import os
import random

import sys
from pathlib import Path

# Get the parent directory
parent_dir = Path(__file__).resolve().parent.parent

# Add the parent directory to sys.path
sys.path.append(str(parent_dir))

# Now you can import your module
import common_methods as cm


# Function to generate a random binary sequence with a specific format
def generate_random_binary_sequence(length=100):
    return " ".join(f"{random.getrandbits(8):08b}" for _ in range(length // 8))


# def append_bytes_to_files(directory, file_extension, bytes_to_append):
#     # List all files in the given directory with the specified extension
#     files = [f for f in os.listdir(directory) if f.endswith(file_extension)]

#     for file_name in files:
#         file_path = os.path.join(directory, file_name)
#         # Open each file in binary append mode
#         with open(file_path, "ab") as file:
#             # Append the binary bytes to the file
#             file.write(bytes_to_append)


def save_bytes_to_text_file(bytes_to_save, text_file_path):
    with open(text_file_path, "w") as file:
        # Save the byte sequence as a string of '0' and '1'
        file.write(bytes_to_save)


# Generate a random binary sequence of 100 bits (as 12 bytes plus space separators)
random_binary_sequence = generate_random_binary_sequence(100)
save_bytes_to_text_file(random_binary_sequence, "random_binary_sequence.txt")
print(random_binary_sequence)
