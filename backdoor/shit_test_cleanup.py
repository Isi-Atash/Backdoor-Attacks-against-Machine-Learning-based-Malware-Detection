import os

file_dir = r"D:\Repos\mw-detection-using-image\data\backdoor_data\malware"
names_dir = r"D:\Repos\mw-detection-using-image\backdoor\file_names.txt"

# read the files inside the directory
files = os.listdir(file_dir)
# read the names of the files inside the directory
names = []
with open(names_dir, "r") as file:
    for line in file:
        names.append(line.strip())

# delete the files that are not in the names list
for file in files:
    if file not in names:
        os.remove(os.path.join(file_dir, file))
